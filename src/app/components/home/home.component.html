<div class="container">
    <div class="card m-3 p-3">
        <div class="card-title">
          <button
          
          routerLink="new"
          class="btn btn-outline-primary">Add New User</button>
          <ul class="navbar navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span *ngIf="profile; else loginTemplate">
                  {{profile?.firstName}}
                  <ul class="dropdown-menu">
                <li><a class="dropdown-item" (click)="onLogout()">Logout</a></li>
                <li><hr class="dropdown-divider">...</li>
              </ul>
                </span>
                <ng-template #loginTemplate>
                  <button
                   class="btn btn-success" (click)="login()">Login</button>
                </ng-template>
              </a>
            </li>
          </ul>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-8 mx-auto">
                    <table class="table table-bordered text-center table-danger">
                        <thead>
                            <tr>
                              <th>User ID</th>
                                <th >first Name</th>
                                <th>last Name</th>
                                <th>email address</th>
                                <th colspan="2">Action</th>
                            </tr>
                        </thead>
                          <tbody>
                          
                                @for(user of users;track user){
                                    <tr>
                                      <td>{{user['userId']}}</td>
                                    <td>{{user['firstName']}}</td>
                                    <td>{{user['lastName']}}</td>
                                    <td>{{user['email']}}</td>
                                    <td>
                                      <button 
                                     (click)="handleUpdate(user)"
                                      class="btn btn-success">Update</button>
                                    </td>
                                    <td>
                                      <button 
                                      (click)="handleDeleteUser(user)"
                                      class="btn btn-danger">Delete</button>
                                    </td>
                                </tr>
                                }
                          
                          </tbody>
                       </table>
                </div>
            </div>
        </div>
    </div>
</div>
